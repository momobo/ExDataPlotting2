q()
library(devtools)
install.packages("devtools")
library(devtools)
install.packages("Rtools")
install_github(c("assertthat", "testthat"))
install_github(c("httpuv", "shiny", "ggvis"), "rstudio")
install.packages("KernSmooth")
library(KernSmooth)
swirl()
library(swirl)
install.packages("swirl")
library(swirl)
swirl
swirl()
DT$SEX
library(data.table)
fileUrl <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv"
download.file(fileUrl, destfile = "./ex5.csv")
"./ex1.csv"
DT <- data.table(housing)
DT <- 0
DT <- fread("./ex5.csv", sep=",")
DT$SEX
system.time(rowMeans(DT)[DT$SEX==1] ;rowMeans(DT)[DT$SEX==2])
system.time(tapply(DT$pwgtp15,DT$SEX,mean))
DT[,mean(pwgtp15),by=SEX]
DT$pwgtp15,by=DT$SEX
mean(DT$pwgtp15,by=DT$SEX)
debug(ls)
ls()
?debug
library(nlme)
library(lattice)
xyplot(weight ~ Time | Diet, BodyWeight)
?axis()
?lattice
?panel.abline
?points()
?text()
?axis()
library(lattice)
library(datasets)
data(airquality)
p <- xyplot(Ozone ~ Wind | factor(Month), data = airquality)
p
?trellis.par.set()
?splom()
print.trellis()
par()
?par()
?trellis.par.set()
trellis.par.set()
trellis.par.get()
library(datasets)
data(airquality)
qplot(Wind, Ozone, data = airquality, facets = . ~ factor(Month))
library(ggplot2)
install.packages("ggplot2")
install.packages("ggplot2")
library(ggplot2)
data(airquality)
qplot(Wind, Ozone, data = airquality, facets = . ~ factor(Month))
data(airquality)
qplot(Wind, Ozone, data = airquality, facets = . ~ factor(Month))
airquality = transform(airquality, Month = factor(Month))
qplot(Wind, Ozone, data = airquality, facets = . ~ Month)
library(ggplot2)
g <- ggplot(movies, aes(votes, rating))
print(g)
ggplot(movies, geom="density",aes(votes, rating))
g <- ggplot(movies,aes(votes, rating))
g + geom_point()
qplot(votes, rating, data = movies)
qplot(votes, rating, data = movies) + geom_smooth()
qplot(votes, rating, data = movies, smooth = "loess")
qplot(votes, rating, data = movies) + stats_smooth("loess")
qplot(votes, rating, data = movies, panel = panel.loess)
qplot(votes, rating, data = movies) + geom_smooth()
colors()
pal <- clolorRamp(c("red", "blue"))
colors()
pal <- colorRamp(c("red", "blue"))
pal(0)
pal
pal(0.25)
pal <- colorRampPalette(c("red", "yellow"))
pal(2)
library(RColorBrewer)
cols <- brewer.pal(3, "BuGn")
cols
pal <_colorRampPalette(cols)
image(volcano, col=pal(20))
cols <- brewer.pal(2, "BuGn")
cols
x <- rnorm(10000)
y <- rnorm(10000)
smoothScatter(x,y)
x <- rnorm(10000)
y <- rnorm(10000)
plot(x,y,col=rgb(0,0,0,0.2), pch=19)
x <- rnorm(10000)
y <- rnorm(10000)
plot(x,y,col=rgb(0,0,0,0.1), pch=19)
wd="C:\\Users\\mmorelli\\Google Drive\\Data Science\\04 - Exploratory Data Analysis\\Project 02"
setwd(wd)
getwd()
dir()
pm25 <- read.csv(unzip("./exdata_data_NEI_data.zip"))
dir()
sourceClass  <- readRDS("Source_Classification_Code.rds")
str(sourceClass)
dir()
PM25  <- readRDS("summarySCC_PM25.rds")
str(PM25)
source('~/.active-rstudio-document', echo=TRUE)
str(PM25)
memory(PM25)
object.size(PM25)
head(sourceClass)
head(PM25)
SCC  <- readRDS("Source_Classification_Code.rds")
str(SCC)
head(SCC)
str(SCC)
head(PM25)
NEI  <- readRDS("summarySCC_PM25.rds")
View(PM25)
wd="C:\\Users\\mmorelli\\Google Drive\\Data Science\\04 - Exploratory Data Analysis\\Project 02"
setwd(wd)
SCC  <- readRDS("Source_Classification_Code.rds")
NEI  <- readRDS("summarySCC_PM25.rds")
str(SCC)
str(NEI)
table(NEI$year,NEI$Emissions)
?sample
NEIs <- sample(NEI, 100)
NEIs <- NEI(sample(nrow(NEI), 100))
NEIs <- NEI[sample(nrow(NEI), 100), ]
str(NEIs)
NEIs <- NEI[sample(nrow(NEI), 100000), ]
str(NEIs)
table(NEIs$year,NEIs$Emissions)
str(NEIs)
plot(NEIs$year,NEIs$Emissions)
?hist
?plot
library(data.table)
NEI.DT <- data.table(NEIs)
tapply(NEis$year, NEIs$Emissions, sum)
tapply(NEIs$year, NEIs$Emissions, sum)
?tapply
str(NEI)
em <- tapply(NEIs$year, NEIs$Emissions, sum)
str(em)
em <- tapply(as.factor(NEIs$year), NEIs$Emissions, sum)
em
s <- split(NEIs, NEIs$year)
s
tapply(s,function(x) sum(x$Emissions)
)
tapply(s,function(x) sum(x$Emissions))
str(s)
tapply(s,sum)
s <- split(NEIs$Emissions, NEIs$year)
tapply(s,sum)
str(s)
tapply(s,mean)
lapply(s,mean)
sapply(s,sum)
em <- sapply(s,sum)
plot(em)
em <- lapply(s,sum)
plot(em)
str(em)
library(ddply)
?ddply
??ddply
library(plyr)
em <- ddply(NEIs, .(year), summarise, Year = sum(Emission))
em <- ddply(NEIs, .(year), summarise, Year = sum(Emissions))
em
em <- ddply(NEIs, .(year), summarise, Emissions = sum(Emissions))
em <- ddply(NEIs, .(year), summarise, TotalEmissions = sum(Emissions))
em
plot(em$year, em$TotalEmissions)
?plot
plot(em$year, em$TotalEmissions, type="h")
plot(em$year, em$TotalEmissions, type="b")
s <- split(NEI$Emissions, NEI$year)
em <- lapply(s,sum)
str(em)
plot(em$year, em$TotalEmissions, type="b")
str(em)
em <- ddply(NEI, .(year), summarise, TotalEmissions = sum(Emissions))
wd="C:\\Users\\mmorelli\\Google Drive\\Data Science\\04 - Exploratory Data Analysis\\Project 02"
setwd(wd)
getwd()
SCC  <- readRDS("Source_Classification_Code.rds")
NEI  <- readRDS("summarySCC_PM25.rds")
library(plyr)
em <- ddply(NEI, .(year), summarise, TotalEmissions = sum(Emissions))
plot(em$year, em$TotalEmissions, type="b")
barplot(em$year, em$TotalEmissions, type="b")
barplot(em$year, em$TotalEmissions)
barplot(em$year, em$TotalEmissions)
?barplot
barplot(em$TotalEmissions)
?barplot
barplot(em$TotalEmissions, names.arg=em$year)
options(scipen=999)
barplot(em$TotalEmissions, names.arg=em$year)
?barplot
barplot(em$TotalEmissions, names.arg=em$year)
?barplot
barplot(em$TotalEmissions, names.arg=em$year, ylab="Total emission (Tons)")
barplot(em$TotalEmissions, names.arg=em$year, ylab="Total PM2.5 emission (Tons)")
str(NEI)
NEI.Balt <- NEI[NEI$fips=="24510",]
em.Balt <- ddply(NEI, .(year), summarise, TotalEmissions = sum(Emissions))
em.Balt <- ddply(NEI.Balt, .(year), summarise, TotalEmissions = sum(Emissions))
barplot(em.Balt$TotalEmissions, names.arg=em$year, ylab="Total PM2.5 emissions in Baltimore (Tons)")
library(ggplot2)
barplot(Emissions ~ year,NEI.Balt)
boxplot(Emissions ~ year,NEI.Balt)
em2.Balt <- ddply(NEI.Balt, .(year + type), summarise, TotalEmissions = sum(Emissions))
em2.Balt <- ddply(NEI.Balt, .(year, type), summarise, TotalEmissions = sum(Emissions))
str(em2.Balt)
qplot(year, TotalEmissions, col=type,Edata=em2.Balt)
str(em2.Balt)
qplot(year, TotalEmissions, col="type",Edata=em2.Balt)
qplot(year, TotalEmissions, col=type,data=em2.Balt)
qplot(year, TotalEmissions, col=type,data=em2.Balt, geom="density")
qplot(year, TotalEmissions, geom="density",data=em2.Balt)
str(em2.Balt)
qplot(year, TotalEmissions, color=type,geom="density",data=em2.Balt)
qplot(year, y=TotalEmissions, color=type,geom="density",data=em2.Balt)
qplot(year, TotalEmissions, color=type,data=em2.Balt)
qplot(year, TotalEmissions, facets=.~type,data=em2.Balt)
qplot(year, TotalEmissions, facets=.~type,geom=”density”, data=em2.Balt)
qplot(year, TotalEmissions,geom=”density”,  facets=.~type, data=em2.Balt)
qplot(year, TotalEmissions, facets=.~type, geom=c("point"), data=em2.Balt)
qplot(year, TotalEmissions, facets=.~type, geom=c("density"), data=em2.Balt)
qplot(year, TotalEmissions, facets=.~type, geom=c("line"), data=em2.Balt)
str(SCC)
intersect(NEI$names, SCC$names)
SCC
head(SCC)
str(SCC)
str(NEIs)
str(NEI)
intersect(NEI$names, SCC$names)
View(SCC)
unique(SCC$Short.Name)
?grep
?intersect
names(NEI)
names(SCC)
intersect(names(NEI), names(SCC))
SCC[grep("[cC]oal", SCC$Short.Name), ]
SCC[grep("[cC]oal", SCC$Short.Name), ]$Short.Name
SCC[grep("[Cc]omb.*[cC]oal", SCC$Short.Name), ]$Short.Name
SCC.Coal <- SCC[grep("[Cc]omb.*[cC]oal", SCC$Short.Name), ]
NEI.Coal <- merge(NEI,SCC.Coal)
em.Coal <- ddply(NEI.Coal, .(year), summarise, TotalEmissions = sum(Emissions))
qplot(year, TotalEmissions, geom=c("line"), data=em.Coal)
em.Coal <- ddply(NEI.Coal, .(year), summarise, TotalEmissions = sum(Emissions))
qplot(year, TotalEmissions, geom=c("line"), data=em.Coal)
?qplot
qplot(year, TotalEmissions, facets=.~type, geom=c("line"), data=em2.Balt)
qplot(year, TotalEmissions, facets=.~type, geom=c("line"), data=em2.Balt,
main= "Total PM2.5 emissions in Baltimore (Tons) by type")
qplot(year, TotalEmissions, geom=c("line"), data=em.Coal,
main= "Total PM2.5 emissions related to Coal combustion"))
qplot(year, TotalEmissions, geom=c("line"), data=em.Coal,
main= "Total PM2.5 emissions related to Coal combustion in USA")
?qplot
qplot(year, TotalEmissions, geom=c("line"), data=em.Coal, witht=2,
main= "Total PM2.5 emissions related to Coal combustion in USA")
qplot(year, TotalEmissions, geom=c("line"), data=em.Coal, col="red",
main= "Total PM2.5 emissions related to Coal combustion in USA")
qplot(year, TotalEmissions, geom=c("line"), data=em.Coal, col="red", lwd=2,
main= "Total PM2.5 emissions related to Coal combustion in USA")
qplot(year, TotalEmissions, geom=c("line"), data=em.Coal, lwd=0.5,
main= "Total PM2.5 emissions related to Coal combustion in USA")
qplot(year, TotalEmissions, geom=c("line"), data=em.Coal, lwd=0.2,
main= "Total PM2.5 emissions related to Coal combustion in USA")
qplot(year, TotalEmissions, geom=c("line"), data=em.Coal, size=1
main= "Total PM2.5 emissions related to Coal combustion in USA")
qplot(year, TotalEmissions, geom=c("line"), data=em.Coal, size=1,
main= "Total PM2.5 emissions related to Coal combustion in USA")
qplot(year, TotalEmissions, facets=.~type, geom=c("line"), data=em2.Balt, size=l(3),
main= "Total PM2.5 emissions in Baltimore by type")
qplot(year, TotalEmissions, facets=.~type, geom=c("line"), data=em2.Balt,
main= "Total PM2.5 emissions in Baltimore by type")+theme_bw()
qplot(year, TotalEmissions, geom=c("line"), data=em.Coal,
main= "Total PM2.5 emissions related to Coal combustion in USA")+theme_bw()
qplot(year, TotalEmissions, facets=.~type, geom=c("line"), data=em2.Balt,
main= "Total PM2.5 emissions in Baltimore by type")+theme_bw()
qplot(year, TotalEmissions, facets=.~type, geom=c("line"), data=em2.Balt,
main= "Total PM2.5 emissions in Baltimore by type", yval="Total Emissions (Tons)")+theme_bw()
qplot(year, TotalEmissions, facets=.~type, geom=c("line"), data=em2.Balt,
main= "Total PM2.5 emissions in Baltimore by type", ylab="Total Emissions (Tons)")+theme_bw()
qplot(year, TotalEmissions, geom=c("line"), data=em.Coal,
main= "Total PM2.5 emissions related to Coal combustion in USA", ylab="Total Emissions (Tons)")+theme_bw()
qplot(year, TotalEmissions, geom=c("line"), data=em2.Coal, facets=SCC~.,
main= "Total PM2.5 emissions related to Coal combustion in USA", ylab="Total Emissions (Tons)")+theme_bw()
em2.Coal <- ddply(NEI.Coal, .(year, SCC), summarise, TotalEmissions = sum(Emissions))
qplot(year, TotalEmissions, geom=c("line"), data=em2.Coal, facets=SCC~.,
main= "Total PM2.5 emissions related to Coal combustion in USA", ylab="Total Emissions (Tons)")+theme_bw()
library(lattice)
xyplot(Emissions ~ year | SCC,data=em2.Coal )
xyplot(TotalEmissions ~ year | SCC,data=em2.Coal )
xyplot(TotalEmissions ~ year | Short.Name,data=em2.Coal )
em2.Coal <- ddply(NEI.Coal, .(year, Short.Name), summarise, TotalEmissions = sum(Emissions))
xyplot(TotalEmissions ~ year | Short.Name,data=em2.Coal )
xyplot(log(TotalEmissions) ~ year | Short.Name,data=em2.Coal )
library(lattice)
em2.Coal <- ddply(NEI.Coal, .(year, SCC), summarise, TotalEmissions = sum(Emissions))
xyplot(SCC ~ year | Short.Name,data=em2.Coal )
em2.Coal <- ddply(NEI.Coal, .(year, SCC), summarise, TotalEmissions = sum(Emissions))
xyplot(TotalEmissions ~ year | SCC,data=em2.Coal )
SCC.MV <- SCC[grep("otor", SCC$Short.Name), ]$Short.Name
SCC[grep("otor", SCC$Short.Name), ]$Short.Name
SCC[grep("Veh", SCC$Short.Name), ]$Short.Name
SCC[grep("Mobile", SCC$SCC.Level.One), ]$Short.Name
SCC[grep("Mobile", SCC$SCC.Level.One), ]$SCC.Level.One
?write.file
?file.write
write.table(SCC)
write.csv(SCC, file="SCC.csv")
SCC[grep("^Mobile", SCC$El.Sector), ]$SCC.Level.One
SCC[grep("^Mobile", SCC$El.Sector), ]$Short.Name
names(SCC)
SCC[grep("^Mobile", SCC$EI.Sector), ]$Short.Name
SCC.MV <- SCC[grep("^Mobile", SCC$EI.Sector), ]
SCC.MV <- SCC[grep("^Mobile", SCC$EI.Sector), ]
NEI.Balt <- NEI[NEI$fips=="24510",]
SCC.MV <- SCC[grep("^Mobile", SCC$EI.Sector), ]
NEI.Balt <- NEI[NEI$fips=="24510",]
NEI.MV.Balt <- merge(NEI.Balt,SCC.MV)
str(NEI.MV.Balt)
em.MV.Balt <- ddply(NEI.MV.Balt, .(year), summarise, TotalEmissions = sum(Emissions))
em.MV.Balt <- ddply(NEI.MV.Balt, .(year), summarise, TotalEmissions = sum(Emissions))
qplot(year, TotalEmissions, geom=c("line"), data=em.MV.Balt,
main= "Total PM2.5 emissions related to Motor Vehicle sources in Baltimore", ylab="Total Emissions (Tons)")+theme_bw()
SCC.MV <- SCC[grep("^Mobile", SCC$EI.Sector), ]
NEI.Balt.LA <- NEI[NEI$fips=="24510" | NEI$fips=="06037",]
NEI.MV.Balt.LA <- merge(NEI.Balt.LA,SCC.MV)
em.MV.Balt.LA <- ddply(NEI.MV.Balt.LA, .(year, frips), summarise, TotalEmissions = sum(Emissions))
em.MV.Balt.LA <- ddply(NEI.MV.Balt.LA, .(year, fips), summarise, TotalEmissions = sum(Emissions))
SCC.MV <- SCC[grep("^Mobile", SCC$EI.Sector), ]
NEI.Balt.LA <- NEI[NEI$fips=="24510" | NEI$fips=="06037",]
NEI.MV.Balt.LA <- merge(NEI.Balt.LA,SCC.MV)
em.MV.Balt.LA <- ddply(NEI.MV.Balt.LA, .(year, fips), summarise, TotalEmissions = sum(Emissions))
qplot(year, TotalEmissions, facets=.~fips, geom=c("line"), data=NEI.MV.Balt.LA,
main= "Total PM2.5 emissions in Baltimore by type", ylab="Total Emissions (Tons)")+theme_bw()
em.MV.Balt.LA <- ddply(NEI.MV.Balt.LA, .(year, fips), summarise, TotalEmissions = sum(Emissions))
qplot(year, TotalEmissions, facets=.~fips, geom=c("line"), data=NEI.MV.Balt.LA,
main= "Total PM2.5 emissions in Baltimore by type", ylab="Total Emissions (Tons)")+theme_bw()
qplot(year, TotalEmissions, facets=.~fips, geom=c("line"), data=em.MV.Balt.LA,
main= "Total PM2.5 emissions in Baltimore by type", ylab="Total Emissions (Tons)")+theme_bw()
str(em.MV.Balt.LA)
levels(em.MV.Balt.LA$fips)
levels(em.MV.Balt.LA)
levels(em.MV.Balt.LA$fips)
str(em.MV.Balt.LA$fips)
em.MV.Balt.LA$City <- ""
em.MV.Balt.LA[fips=="24510",]$City <- "Baltimore"
em.MV.Balt.LA[em.MV.Balt.LA$fips=="24510",]$City <- "Baltimore"
em.MV.Balt.LA[em.MV.Balt.LA$fips=="06037",]$City <- "Los Angeles"
qplot(year, TotalEmissions, facets=.~City, geom=c("line"), data=em.MV.Balt.LA,
main= "Total PM2.5 emissions in Baltimore and LA", ylab="Total Emissions (Tons)")+theme_bw()
